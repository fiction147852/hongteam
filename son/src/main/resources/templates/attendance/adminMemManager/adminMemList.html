<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
    layout:decorate="~{common/layouts/administrator_layout}"
    layout:fragment="content">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>PolluxUI Admin</title>

    <!-- Include ConfigFragment -->
    <th:block th:replace="common/configs/default_config :: ConfigFragment"></th:block>
</head>

<body>
    <div class="row">
        <div class="col-md-5">
            <div class="card">
                <div class="table-responsive pt-3">
                    <table class="table table-striped project-orders-table">
                        <thead>
                            <tr>
                                <th>번호</th>
                                <th>이름</th>
                                <th>전화번호</th>
                                <th>역할</th>
                            </tr>
                        </thead>
                        <tbody>
                            <th:block th:each="member : ${memberList}">
                                <tr th:onclick="infoClick([[${member.idNumber}]], [[${member.auth}]])">
                                    <td th:text="${member.idNumber}"></td>
                                    <td th:text="${member.name}"></td>
                                    <td th:text="${member.phone}"></td>
                                    <td th:text="${member.auth}"></td>
                                </tr>
                            </th:block>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="col-md-5">
            <div class="card">
                <div class="table-responsive pt-3">
                    <table class="table table-striped project-orders-table">
                        <tbody>
                            <th:block th:each="member : ${memInfo}">
                                <tr>
                                    <td th:text="${member.idNumber}"></td>
                                    <td th:text="${member.name}"></td>
                                    <td th:text="${member.phone}"></td>
                                    <td th:text="${member.email}"></td>
                                    <td th:text="${member.address}"></td>
                                    <td th:text="${member.auth}"></td>
                                </tr>
                            </th:block>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</body>
<script th:inline="javascript">
    function infoClick(idNumber, auth){
        $.ajax({
            type: 'GET',
            url: '/lms/admin/adminMemInfo',
            data: { idNumber: idNumber, auth: auth },
            success: function(response) {
                console.log(response);
                
                
            },
            error: function(xhr, status, error) {
                console.error('Error fetching member info:', error);
            }
        });
    }
</script>
</html>
