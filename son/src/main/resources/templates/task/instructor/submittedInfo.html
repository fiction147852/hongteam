<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{common/layouts/instructorDetailSubject_layout}"
	layout:fragment="content">
<head>

<title>제출된 과제 상세 보기</title>

<style>
.table-custom {
    width: 100%;
    border-collapse: collapse;
}
.table-custom th, .table-custom td {
    border: 1px solid #dee2e6;
    padding: 10px;
    text-align: left;
}
.table-custom th {
    width: 180px;
    background-color: #27587E;
    color: white;
    text-align: center;
    font-weight: 800;
}
.table-custom td {
    background-color: #f8f9fa;
}

.table-custom tr:first-child {
    height: 80px;
}

.table-custom:first-of-type tr:first-child td:last-of-type {
    width: 40vw;
}

.table-custom tr:last-child {
    height: 100px;
}

.header-title {
    text-align: center;
    margin-bottom: 30px;
    margin-top: 30px;
    font-weight: 800;
}
.header-right {
    text-align: right;
    margin-bottom: 20px;
}

.header-right span {
    font-weight: 800;
    cursor: pointer;
}

.highlight {
    background-color: #27587E;
    color: black;
    text-align: center;
    width: 50vw;
}

.table-custom tr:last-child td a {
    display: block;
    color: inherit;
    text-decoration: none;
    font-weight: 400;
}

.attachment-cards {
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}
.card {
    background-color: #f8f9fa;
    border: 1px solid #dee2e6;
    padding: 10px;
    width: 200px;
    text-align: center;
    border-radius: 8px;
}
.card a {
    text-decoration: none;
    color: #000;
    font-weight: 500;
}
.card a:hover {
    text-decoration: underline;
}

.card i {
    margin-right: 10px;
}

.btn-search {
    background-color: #27587E;
    color: white;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
    border-radius: 5px;
    font-size: 16px;
    margin-bottom: 20px;
}

.btn-submit {
    background-color: #27587E;
    color: white;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
    border-radius: 5px;
    font-size: 16px;
    margin-top: 20px;
}

.submit-button-container {
    text-align: right;
}

#submitted-files td {
    text-align: center;
}

.file-input-container {
    text-align: right;
    margin: 20px 0;
}

.file-input {
    display: none;
}

.file-input-label {
    background-color: #27587E;
    color: white;
    border: none;
    padding: 10px 20px;
    cursor: pointer;
    border-radius: 5px;
    font-size: 16px;
    margin-bottom: 0;
}

</style>
</head>

<body>
	<table class="table-custom">
		<tr>
			<th>제목</th>
			<td class="highlight"> [[${submittedInfo.title} ]] </td>
			<th>제출 기한</th>
			<td>[[ ${#dates.format(submittedInfo.postDate, 'yyyy년 MM월 dd일')} ]] ~ 
			[[ ${#dates.format(submittedInfo.submitDeadline, 'yyyy년 MM월 dd일')}]]
				</td>
		</tr>
		<tr style="height: 100px;">
			<th>피드백 내용</th>
			<td colspan="3"> [[${submittedInfo.feedback}]]</td>
		</tr>
		<tr>
			<th>과제 파일</th>
			<td colspan="3">
				<div class="attachment-cards">
					<th:block th:each="files : ${submittedInfo.fileList}">
						<div class="card">
							<a th:href="@{/instructor/{lectureNumber}/task/{taskNumber}/submittedInfo/download(
							    lectureNumber=${lectureNumber},
							    taskNumber=${taskNumber},
							    taskSubmitNumber=${taskSubmitNumber},
							    originalFileName=${files.originalFileName},
							    filePath=${files.filePath})}">
							    <span class="icons"><i class="fas fa-folder-open"></i></span><span th:text="${files.originalFileName}"></span>
							</a>
						</div>
					</th:block>
				</div>
			</td>
		</tr>
	</table>
	<button type="button" class="btn btn-secondary mt-3 float-end" th:onclick="|location.href='@{/instructor/{lectureNumber}/task/{taskNumber}/submittedStudents(lectureNumber=${lectureNumber},taskNumber=${taskNumber})}'|">목록</button>
</body>

</html>

