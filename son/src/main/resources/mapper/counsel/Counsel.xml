<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://www.mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.son.app.counsel.mapper.CounselMapper">

	<!-- 상담 일정 전체 조회 -->
	<select id="counselSelectAll" resultType="CounselVO">
		SELECT counsel_number
				, parent_name
				, student_name
				, phone
				, time_code
				, reservation_date
				, reservation_code
		FROM admission_counsel
	</select>

	<!-- 상담 일정 단건 조회 -->
	<select id="counselSelectInfo" resultType="CounselVO">
		SELECT counsel_number
				, parent_name
				, student_name
				, phone
				, time_code
				, reservation_date
				, reservation_code
		FROM admission_counsel
		WHERE counsel_number = #{counselNumber}
	</select>
		
	<!-- 상담 일정 시간 설정 -->
	<select id="counselTimeUpdate" resultType="CounselVO">
		UPDATE counsel_possibility
			SET
				impossibility_number = #{impossibilityNumber}
				time_code = #{timeCode}
		WHERE weekdays_code = #{weekdaysCode}
	</select>
		
	<!-- 상담 일정 캘린더 표시 -->

	<!-- 상담 일정 신청 -->
		<select id="counselInsert" resultType="CounselVO">
		 INSERT INTO admission_counsel
		 		(
		 		counsel_number
				, parent_name
				, student_name
				, phone
				, time_code
				, reservation_date
		 		)
		 	VALUES
		 		(
		 		#{counselNumber}
		 		#{parentName}
		 		#{studentName}
		 		#{phone}
		 		#{timeCode}
		 		#{reservationDate}
		 		)
		
		</select>
		
		
		
		
		
		
</mapper>
