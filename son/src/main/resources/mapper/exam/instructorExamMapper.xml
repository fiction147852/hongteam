<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.son.app.exam.mapper.InstructorExamMapper">
	<select id="selectExamAll" resultType="ExamVO">
		SELECT test_number,
			   examination_date,
			   limit_time,
			   exam_date,
			   paper_number,
			   lecture_number,
			   test_title
		FROM (
			SELECT ROW_NUMBER() OVER (ORDER BY test_number) AS rn,
				   test_number,
				   examination_date,
				   limit_time,
				   exam_date,
				   paper_number,
				   lecture_number,
				   test_title
			FROM test
			WHERE lecture_number = #{lectureNumber}
		) t
		WHERE rn BETWEEN #{start} AND #{end}
	</select>
	
	<select id="countExams" resultType="int">
		SELECT COUNT(*)
		FROM test
		WHERE lecture_number = #{lectureNumber}
	</select>

</mapper>