<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.son.app.board.mapper.ParentCounselMapper">

	<!-- 학부모의 QNA 게시판 전체조회 -->
	<select id="selectParentCounselAll" resultType="ParentCounselVO">
		SELECT
		counsel_number , 
		title , 
		content , 
		write_date , 
		response_status ,
		response_content, 
		lecture_number , 
		parent_number , 
		instructor_number
		FROM
		parent_counsel
		ORDER BY counsel_number DESC
	</select>


    <insert id="insertParentCounselInfo" parameterType="ParentCounselVO">
        <selectKey keyProperty="counselNumber" resultType="int" order="BEFORE">
            SELECT NVL(MAX(counsel_number), 0) + 1 FROM parent_counsel
        </selectKey>
        INSERT INTO parent_counsel
        (
        counsel_number,
        title,
        content,
        write_date,
        response_status,
        response_content,
        lecture_number,
        parent_number,
        instructor_number
        )
        VALUES
        (
        #{counselNumber},
        #{title},
        #{content},
        #{writeDate},
        #{responseStatus},
        #{responseContent},
        #{lectureNumber},
        #{parentNumber},
        #{instructorNumber}
        )
    </insert>
</mapper>